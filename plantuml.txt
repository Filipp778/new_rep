@startuml Диаграмма последовательности: Просмотр 3D модели ковша

actor "Технолог" as User
participant "Frontend" as FE
participant "Backend" as API

== Основной поток ==

User -> FE: Переход в модуль "Архив сканирований"
FE -> API: Запрос списка сканирований с пагинацией GET /api/v1/scans?limit=20
API --> FE: status: 200 OK 
FE -> FE: Отображение интерфейса со списком 


User -> FE: Выбор конкретного сканирования из списка
FE -> API: Запрос детальных данных сканирования
API --> FE : Получение полных данных сканирования
FE -> FE: Открывает страницу с 2D видом 



User -> FE: Переход на вкладку "3D Модель"
FE -> API: Запрос 3D модели ковша

group А1: 3D модель недоступна
  API --> FE: Ошибка генерации модели
  FE -> FE: Сообщение "3D вид недоступен"
  FE -> FE: Предложение просмотреть 2D вид
  FE -> FE: Автоматическое переключение на 2D вид
end


note right of FE
**Параметры 3D визуализации:**
- Цветовое кодирование толщины
- Легенда с градацией 20мм
- Интерактивное вращение/масштабирование
- Нумерация зон контроля
end note


API --> FE: 3D модель c облаком точек и данными толщин
FE -> User: Отображение интерактивной 3D модели

User -> User: Вращение и масштабирование модели
User -> User: Осмотр ключевых зон:\n- стены\n- дно\n- шлаковый пояс

User -> FE: Клик на конкретную зону/ячейку
FE -> FE: Отображение точного значения толщины\nдля выбранной зоны

== Альтернативные потоки ==



group А2: Возврат к просмотру 2D
  User -> FE: Нажимает кнопки "2D вид"
  FE -> FE: Открывается экран с 2D 

end

@enduml